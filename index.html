<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Multi-Game Seru - Puzzle & Kuis</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Material+Icons&display=swap" rel="stylesheet" />
<style>
  /* Reset and base */
  *, *::before, *::after {
    box-sizing: border-box;
  }
  body {
    margin: 0; padding: 0;
    font-family: 'Inter', sans-serif;
    background: #f5f7fa;
    color: #222;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }
  [data-theme="dark"] {
    background: #121212;
    color: #ddd;
  }
  a, button {
    font-family: inherit;
  }

  /* Layout */
  #app {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    max-width: 1024px;
    margin: 0 auto;
    padding: 16px 24px;
  }
  header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-bottom: 12px;
    border-bottom: 1px solid #ccc;
  }
  [data-theme="dark"] header {
    border-color: #444;
  }
  h1 {
    font-weight: 700;
    font-size: 1.8rem;
  }
  #theme-toggle {
    cursor: pointer;
    background: none;
    border: none;
    color: #0078d4;
    font-weight: 600;
    font-size: 1rem;
    padding: 6px 12px;
    border-radius: 6px;
    transition: background-color 0.3s ease;
  }
  #theme-toggle:hover, #theme-toggle:focus {
    background-color: #0078d444;
    outline:none;
  }
  [data-theme="dark"] #theme-toggle {
    color: #4bb8ff;
  }

  main {
    flex-grow: 1;
    margin-top: 24px;
    min-height: 400px;
  }

  /* Navigation and Game Selection */
  #game-menu {
    display: grid;
    grid-template-columns: repeat(auto-fit,minmax(220px,1fr));
    gap: 24px;
  }
  .game-card {
    background: #ffffff;
    border-radius: 16px;
    box-shadow: 0 8px 20px rgb(0 0 0 / 0.1);
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 24px 16px;
    cursor: pointer;
    user-select: none;
    transition: box-shadow 0.3s ease;
  }
  .game-card:hover, .game-card:focus {
    box-shadow: 0 12px 30px rgb(0 0 0 / 0.21);
    outline:none;
  }
  .game-icon {
    font-family: 'Material Icons';
    font-size: 64px;
    color: #0078d4;
    margin-bottom: 12px;
  }
  [data-theme="dark"] .game-card {
    background: #212121;
    box-shadow: 0 6px 15px rgb(255 255 255 / 0.1);
  }
  [data-theme="dark"] .game-icon {
    color: #4bb8ff;
  }
  .game-title {
    font-weight: 600;
    font-size: 1.2rem;
    text-align: center;
    color: inherit;
  }

  /* Game container */
  #game-container {
    margin-top: 16px;
  }

  /* Back button */
  #back-btn {
    margin-bottom: 20px;
    background: #0078d4;
    border: none;
    color: white;
    font-weight: 600;
    padding: 8px 16px;
    border-radius: 12px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  #back-btn:hover, #back-btn:focus {
    background-color: #005ea3;
    outline:none;
  }
  [data-theme="dark"] #back-btn {
    background-color: #4bb8ff;
  }
  [data-theme="dark"] #back-btn:hover {
    background-color: #2a85d6;
  }

  /* Puzzle Game Styles */
  #puzzle-game {
    max-width: 360px;
    margin: 0 auto;
    user-select: none;
  }
  #puzzle-board {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 8px;
    border-radius: 16px;
    margin-bottom: 12px;
    background: #ddd;
  }
  [data-theme="dark"] #puzzle-board {
    background: #444;
  }
  .puzzle-tile {
    background: #0078d4;
    color: white;
    font-weight: 700;
    font-size: 1.5rem;
    display: flex;
    justify-content: center;
    align-items: center;
    aspect-ratio: 1/1;
    border-radius: 12px;
    cursor: pointer;
    transition: background-color 0.3s ease;
    user-select:none;
  }
  .puzzle-tile.empty {
    background: transparent;
    cursor: default;
  }
  .puzzle-tile:hover:not(.empty), .puzzle-tile:focus:not(.empty) {
    background-color: #005ea3;
    outline:none;
  }

  /* Puzzle Score & Level */
  #puzzle-info {
    font-weight: 600;
    font-size: 1.1rem;
    margin-bottom: 16px;
    text-align: center;
  }

  /* Quiz Game */
  #quiz-game {
    max-width: 660px;
    margin: 0 auto;
    user-select:none;
  }
  #quiz-info {
    font-weight: 600;
    font-size: 1.1rem;
    margin-bottom: 8px;
    text-align: center;
  }
  #quiz-question {
    font-size: 1.2rem;
    font-weight: 600;
    margin-bottom: 20px;
  }
  #quiz-options {
    display: flex;
    flex-direction: column;
    gap: 14px;
  }
  .quiz-option {
    background: #f8f9fa;
    padding: 12px 16px;
    font-size: 1rem;
    border-radius: 12px;
    cursor: pointer;
    border: 2px solid transparent;
    transition: border-color 0.3s ease, background-color 0.3s ease;
  }
  .quiz-option:hover, .quiz-option:focus {
    border-color: #0078d4;
    background: #e1f0fc;
    outline:none;
  }
  [data-theme="dark"] .quiz-option {
    background: #3a3a3a;
    color: #ddd;
  }
  [data-theme="dark"] .quiz-option:hover, [data-theme="dark"] .quiz-option:focus {
    background: #005ea3;
    border-color: #4bb8ff;
    color: white;
  }
  .quiz-option.correct {
    background-color: #44a572 !important;
    color: white !important;
    border-color: #44a572 !important;
  }
  .quiz-option.incorrect {
    background-color: #e04848 !important;
    color: white !important;
    border-color: #e04848 !important;
  }
  #quiz-progress {
    margin-top: 20px;
    font-weight: 600;
    font-size: 1rem;
    color: #555;
    text-align: center;
  }
  [data-theme="dark"] #quiz-progress {
    color: #bbb;
  }

  /* Riddles / Teka Teki */
  #riddle-game {
    max-width: 660px;
    margin: 0 auto;
    user-select:none;
  }
  #riddle-question {
    font-size: 1.3rem;
    font-weight: 600;
    margin-bottom: 12px;
  }
  #riddle-clue {
    font-size: 1rem;
    font-weight: 400;
    margin-bottom: 16px;
    font-style: italic;
    color: #555;
  }
  [data-theme="dark"] #riddle-clue {
    color: #999;
  }
  #riddle-answer-form {
    display: flex;
    gap: 12px;
    margin-bottom: 20px;
  }
  #riddle-answer {
    flex-grow: 1;
    padding: 10px 14px;
    font-size: 1rem;
    border-radius: 12px;
    border: 2px solid #ccc;
    transition: border-color 0.3s ease;
  }
  #riddle-answer:focus {
    outline:none;
    border-color: #0078d4;
  }
  #riddle-submit {
    background: #0078d4;
    border: none;
    color: white;
    font-weight: 600;
    font-size: 1rem;
    border-radius: 12px;
    padding: 10px 16px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  #riddle-submit:hover, #riddle-submit:focus {
    background: #005ea3;
    outline:none;
  }
  [data-theme="dark"] #riddle-answer {
    background: #222;
    border-color: #555;
    color: #eee;
  }
  [data-theme="dark"] #riddle-answer:focus {
    border-color: #4bb8ff;
  }
  [data-theme="dark"] #riddle-submit {
    background: #4bb8ff;
  }
  [data-theme="dark"] #riddle-submit:hover, [data-theme="dark"] #riddle-submit:focus {
    background: #2a85d6;
  }
  #riddle-feedback {
    font-weight: 600;
    font-size: 1.1rem;
    min-height: 24px;
  }
  #riddle-score, #riddle-level {
    margin-top: 16px;
    font-size: 1rem;
    color: #555;
    text-align:center;
  }
  [data-theme="dark"] #riddle-score,
  [data-theme="dark"] #riddle-level {
    color: #bbb;
  }

  /* Additional Game: Memory cards */
  #memory-game {
    max-width: 500px;
    margin: 0 auto;
    user-select:none;
  }
  #memory-info {
    font-weight: 600;
    font-size: 1.1rem;
    margin-bottom: 12px;
    text-align: center;
  }
  #memory-board {
    display: grid;
    grid-template-columns: repeat(auto-fill,minmax(80px,1fr));
    gap: 12px;
  }
  .memory-card {
    background: #0078d4;
    border-radius: 14px;
    aspect-ratio: 1/1;
    position: relative;
    cursor: pointer;
    perspective: 600px;
    user-select:none;
  }
  .memory-card.disabled {
    cursor: default;
    opacity: 0.7;
  }
  .memory-inner {
    position: absolute;
    width: 100%; height: 100%;
    transition: transform 0.4s;
    transform-style: preserve-3d;
    border-radius: 14px;
  }
  .memory-card.flipped .memory-inner {
    transform: rotateY(180deg);
  }
  .memory-front, .memory-back {
    position: absolute;
    width: 100%; height: 100%;
    backface-visibility: hidden;
    border-radius: 14px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 36px;
    color: white;
  }
  .memory-front {
    background: #1976d2;
  }
  .memory-back {
    background: #eee;
    color: #0078d4;
    transform: rotateY(180deg);
    font-family: 'Material Icons';
  }
  [data-theme="dark"] #memory-board .memory-front {
    background: #4bb8ff;
  }
  [data-theme="dark"] #memory-board .memory-back {
    background: #222;
    color: #4bb8ff;
  }

  /* Cari Kata (Word Search) Styles */
  #wordsearch-game {
    max-width: 600px;
    margin: 0 auto;
    user-select: none;
    text-align: center;
  }
  #wordsearch-info {
    font-weight: 600;
    font-size: 1.2rem;
    margin-bottom: 12px;
  }
  #wordsearch-grid {
    display: grid;
    grid-template-columns: repeat(10, 30px);
    grid-template-rows: repeat(10, 30px);
    gap: 2px;
    justify-content: center;
    margin-bottom: 12px;
  }
  .word-cell {
    width: 30px;
    height: 30px;
    border: 1px solid #999;
    background-color: #ddd;
    font-weight: 700;
    font-size: 1rem;
    color: #333;
    cursor: pointer;
    user-select: none;
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .word-cell.selected {
    background-color: #4bb8ff;
    color: white;
  }
  .word-cell.found {
    background-color: #1976d2;
    color: white;
    cursor: default;
  }
  [data-theme="dark"] .word-cell {
    background-color: #333;
    border-color: #555;
    color: #eee;
  }
  [data-theme="dark"] .word-cell.selected {
    background-color: #91ccff;
    color: #222;
  }
  [data-theme="dark"] .word-cell.found {
    background-color: #4bb8ff;
    color: #222;
  }
  #wordsearch-words {
    font-weight: 600;
    font-size: 1rem;
  }
  #wordsearch-progress {
    margin-top: 12px;
    font-weight: 600;
    font-size: 1rem;
  }

  /* Footer credit styling */
  footer#credit {
    text-align: center;
    padding: 12px 0;
    font-weight: 700;
    font-size: 1.2rem;
    font-family: 'Inter', sans-serif;
    user-select: none;
    background: linear-gradient(135deg, #0078d4, #4bb8ff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    color: transparent;
    text-shadow: 0 0 6px rgba(75,184,255,0.75);
    margin-top: 32px;
    animation: glow 3s ease-in-out infinite alternate;
  }
  @keyframes glow {
    from {
      text-shadow: 0 0 8px rgba(75,184,255,0.5), 0 0 12px rgba(75,184,255,0.7);
    }
    to {
      text-shadow: 0 0 16px rgba(75,184,255,1), 0 0 30px rgba(75,184,255,1);
    }
  }

  /* Responsive adjustments */
  @media (max-width: 480px) {
    #game-menu {
      grid-template-columns: repeat(auto-fill,minmax(160px,1fr));
    }
    #puzzle-board {
      max-width: 320px;
      gap: 6px;
    }
    #memory-board {
      max-width: 320px;
      gap: 6px;
    }
    #wordsearch-grid {
      grid-template-columns: repeat(8, 30px);
      grid-template-rows: repeat(8, 30px);
    }
  }
</style>
</head>
<body data-theme="light">
  <div id="app" role="main">
    <header>
      <h1>Multi-Game Seru</h1>
      <button id="theme-toggle" aria-pressed="false" aria-label="Ganti mode terang dan gelap">Mode Gelap</button>
    </header>
    <main>
      <!-- Menu Pilihan Game -->
      <section id="game-menu" aria-label="Pilih game yang ingin dimainkan">
        <div class="game-card" tabindex="0" role="button" data-game="puzzle" aria-describedby="puzzle-desc">
          <span class="game-icon material-icons" aria-hidden="true">extension</span>
          <div class="game-title">Puzzle Geser</div>
          <div id="puzzle-desc" class="visually-hidden">Mainkan puzzle geser klasik dengan angka</div>
        </div>
        <div class="game-card" tabindex="0" role="button" data-game="quiz" aria-describedby="quiz-desc">
          <span class="game-icon material-icons" aria-hidden="true">quiz</span>
          <div class="game-title">Kuis Trivia</div>
          <div id="quiz-desc" class="visually-hidden">Jawab pertanyaan berdasarkan level dengan tingkat kesulitan bertahap</div>
        </div>
        <div class="game-card" tabindex="0" role="button" data-game="riddle" aria-describedby="riddle-desc">
          <span class="game-icon material-icons" aria-hidden="true">help_outline</span>
          <div class="game-title">Teka Teki</div>
          <div id="riddle-desc" class="visually-hidden">Pecahkan teka teki dengan petunjuk dan umpan balik</div>
        </div>
        <div class="game-card" tabindex="0" role="button" data-game="memory" aria-describedby="memory-desc">
          <span class="game-icon material-icons" aria-hidden="true">memory</span>
          <div class="game-title">Pasang Memori</div>
          <div id="memory-desc" class="visually-hidden">Main game ingatan mencocokkan kartu</div>
        </div>
        <div class="game-card" tabindex="0" role="button" data-game="wordsearch" aria-describedby="wordsearch-desc">
          <span class="game-icon material-icons" aria-hidden="true">search</span>
          <div class="game-title">Cari Kata</div>
          <div id="wordsearch-desc" class="visually-hidden">Permainan mencari kata dalam grid huruf</div>
        </div>
      </section>

      <!-- Kontainer Game -->
      <section id="game-container" aria-live="polite">
        <!-- Konten game dimuat oleh JavaScript -->
      </section>
    </main>
  </div>

  <footer id="credit" aria-label="Kredit aplikasi">By AlFa</footer>

  <script>
    (() => {
      // Utils
      function saveState(state) {
        localStorage.setItem('multiGameAppStateV2', JSON.stringify(state));
      }
      function loadState() {
        try {
          let raw = localStorage.getItem('multiGameAppStateV2');
          if(raw) return JSON.parse(raw);
        } catch (e) {}
        return null;
      }
      // Current app state
      let appState = {
        theme: "light",
        puzzle: {level: 1, score: 0},
        quiz: {level: 1, score: 0},
        riddle: {index: 0, correctCount: 0, level: 1},
        memory: {bestScore: 0, level: 1, score: 0},
        wordsearch: {foundWords: [], level: 1, score: 0}
      };
      const storedState = loadState();
      if(storedState) appState = Object.assign(appState, storedState);

      const gameContainer = document.getElementById('game-container');
      const themeToggle = document.getElementById('theme-toggle');
      const gameMenu = document.getElementById('game-menu');
      const body = document.body;

      themeToggle.addEventListener('click', () => {
        const newTheme = body.dataset.theme=='light'?'dark':'light';
        setTheme(newTheme);
      });
      function setTheme(theme) {
        body.dataset.theme = theme;
        themeToggle.textContent = theme=='light'?'Mode Gelap':'Mode Terang';
        themeToggle.setAttribute('aria-pressed', theme!='light');
        appState.theme = theme;
        saveState(appState);
      }
      setTheme(appState.theme);

      function showGameMenu() {
        gameContainer.innerHTML = '';
        gameMenu.style.display = 'grid';
        document.getElementById('back-btn')?.remove();
        gameContainer.setAttribute('aria-live','polite');
        setTimeout(() => {
          const firstCard = gameMenu.querySelector('.game-card');
          if(firstCard) firstCard.focus();
        }, 100);
      }
      function createBackButton(){
        const btn = document.createElement('button');
        btn.textContent='â† Kembali ke Menu';
        btn.id='back-btn';
        btn.style.marginBottom='20px';
        btn.style.backgroundColor='#0078d4';
        btn.style.border='none';
        btn.style.color='white';
        btn.style.fontWeight='600';
        btn.style.padding='8px 16px';
        btn.style.borderRadius='12px';
        btn.style.cursor='pointer';
        btn.style.transition='background-color 0.3s ease';
        btn.addEventListener('mouseenter',()=> btn.style.backgroundColor='#005ea3');
        btn.addEventListener('mouseleave',()=> btn.style.backgroundColor='#0078d4');
        btn.addEventListener('focus',()=> btn.style.backgroundColor='#005ea3');
        btn.addEventListener('blur',()=> btn.style.backgroundColor='#0078d4');
        btn.addEventListener('click',()=>showGameMenu());
        const mainEl = document.querySelector('main');
        mainEl.insertBefore(btn, gameContainer);
      }

      // Wordsearch Game
      function loadWordSearchGame(){
        gameMenu.style.display='none';
        gameContainer.innerHTML='';
        createBackButton();

        const wordsearchEl = document.createElement('section');
        wordsearchEl.id='wordsearch-game';
        wordsearchEl.style.maxWidth='600px';
        wordsearchEl.style.margin='0 auto';
        wordsearchEl.style.userSelect='none';
        wordsearchEl.style.textAlign='center';

        const infoEl = document.createElement('div');
        infoEl.id='wordsearch-info';
        infoEl.style.fontWeight='600';
        infoEl.style.fontSize='1.2rem';
        infoEl.style.marginBottom='12px';
        wordsearchEl.appendChild(infoEl);

        const progressEl = document.createElement('div');
        progressEl.id = 'wordsearch-progress';
        progressEl.style.marginTop = '12px';
        progressEl.style.fontWeight = '600';
        progressEl.style.fontSize = '1rem';
        wordsearchEl.appendChild(progressEl);

        const gridEl = document.createElement('div');
        gridEl.id='wordsearch-grid';
        gridEl.style.display='grid';
        gridEl.style.gridTemplateColumns='repeat(10, 30px)';
        gridEl.style.gridTemplateRows='repeat(10, 30px)';
        gridEl.style.gap='2px';
        gridEl.style.justifyContent='center';
        gridEl.style.marginBottom='12px';
        wordsearchEl.appendChild(gridEl);

        const wordsEl = document.createElement('div');
        wordsEl.id='wordsearch-words';
        wordsEl.style.textAlign='center';
        wordsEl.style.fontWeight='600';
        wordsEl.style.fontSize = '1rem';
        wordsearchEl.appendChild(wordsEl);

        gameContainer.appendChild(wordsearchEl);

        const words = [
          "INDONESIA",
          "COMPUTER",
          "JAVASCRIPT",
          "PUZZLE",
          "GAME",
          "ALFA",
          "PUZZLING",
          "LOGIKA",
          "FOKUS",
          "TANTANGAN"
        ];

        const gridSize = 10;
        const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
        let grid = [];

        for(let i=0;i<gridSize*gridSize;i++){
          grid[i] = letters.charAt(Math.floor(Math.random()*letters.length));
        }

        // Letakkan kata secara horizontal sederhana mulai di tiap baris ke-i
        words.forEach((word,i)=>{
          let startRow = i;
          let startCol = 0;
          for(let j=0;j<word.length;j++){
            grid[startRow*gridSize + startCol + j] = word.charAt(j);
          }
        });

        gridEl.innerHTML = '';
        wordsEl.textContent='Temukan kata-kata: '+words.join(', ');

        // Selection state
        let selecting = false;
        let firstCell = null;
        let selectedCells = [];
        let foundWords = new Set(appState.wordsearch.foundWords || []);

        function renderGrid(){
          gridEl.innerHTML='';
          for(let i=0;i<grid.length;i++){
            const cell = document.createElement('button');
            cell.className='word-cell';
            cell.textContent=grid[i];
            cell.dataset.index=i;
            cell.setAttribute('aria-label',`Huruf ${grid[i]}`);
            if(foundWords.size && wordHasCell(i)) cell.classList.add('found');
            if(selectedCells.includes(i)) cell.classList.add('selected');

            if(foundWords.size && wordHasCell(i)){
              cell.disabled=true;
              cell.style.cursor='default';
            }
            cell.addEventListener('click',()=>handleCellClick(i));
            cell.addEventListener('keydown', e=>{
              if(e.key==='Enter' || e.key===' '){
                e.preventDefault();
                handleCellClick(i);
              }
            });
            gridEl.appendChild(cell);
          }
          updateProgress();
        }

        // Helper: cek huruf index apakan bagian kata yg sudah ditemukan
        function wordHasCell(index){
          for(const w of foundWords){
            let wIdxs = wordIndexes(w);
            if(wIdxs.includes(index)) return true;
          }
          return false;
        }

        // Cari index sel grid kata secara horizontal mulai baris ke-i
        function wordIndexes(word){
          for(let row=0;row<gridSize;row++){
            for(let col=0;col<=gridSize-word.length;col++){
              let match=true;
              for(let k=0;k<word.length;k++){
                if(grid[row*gridSize + col + k]!==word.charAt(k)) match=false;
              }
              if(match){
                return Array.from({length:word.length},(_,m)=> row*gridSize + col + m);
              }
            }
          }
          return [];
        }

        function handleCellClick(idx){
          if(foundWords.size && wordHasCell(idx)) return;
          if(!selecting){
            // mulai memilih
            selecting=true;
            firstCell=idx;
            selectedCells=[idx];
            renderGrid();
          } else {
            // selesai memilih, cek apakah garis lurus horizontal atau vertikal & kata valid
            const secondCell=idx;
            selectedCells = getLineIndexes(firstCell, secondCell);
            if(selectedCells.length>1){ // bentuk garis
              let selectedWord="";
              selectedCells.forEach(i=>{
                selectedWord+=grid[i];
              });
              const foundWord = words.find(w=> w===selectedWord || w===reverseString(selectedWord));
              if(foundWord && !foundWords.has(foundWord)){
                foundWords.add(foundWord);
                appState.wordsearch.foundWords = Array.from(foundWords);
                appState.wordsearch.score = (appState.wordsearch.score||0) + foundWord.length * 10;
                saveState(appState);
                alert(`Kamu menemukan kata: ${foundWord}!`);
                selectedCells=[];
                selecting=false;
                firstCell=null;
                renderGrid();
                if(foundWords.size === words.length){
                  alert('Selamat! Kamu menemukan semua kata.');
                }
                return;
              }
            }
            // tidak valid, batalkan dan ulangi
            alert('Kata tidak sesuai atau sudah ditemukan, coba lagi.');
            selectedCells=[];
            selecting=false;
            firstCell=null;
            renderGrid();
          }
        }

        // Dapatkan garis index antara 2 posisi sel (hanya horizontal atau vertikal dikenali)
        function getLineIndexes(i1,i2){
          // jika i1 dan i2 di baris sama
          if(Math.floor(i1/gridSize) === Math.floor(i2/gridSize)){
            const row = Math.floor(i1/gridSize);
            const start = Math.min(i1,i2);
            const end = Math.max(i1,i2);
            let arr=[];
            for(let c=start;c<=end;c++) arr.push(c);
            return arr;
          }
          // jika i1 dan i2 di kolom sama
          if(i1%gridSize === i2%gridSize){
            const col = i1%gridSize;
            const startRow = Math.min(Math.floor(i1/gridSize), Math.floor(i2/gridSize));
            const endRow = Math.max(Math.floor(i1/gridSize), Math.floor(i2/gridSize));
            let arr = [];
            for(let r=startRow;r<=endRow;r++){
              arr.push(r*gridSize + col);
            }
            return arr;
          }
          return []; // bukan garis lurus valid
        }

        function reverseString(str){
          return str.split('').reverse().join('');
        }

        function updateProgress(){
          progressEl.textContent = `Kata ditemukan: ${foundWords.size} / ${words.length} | Skor: ${appState.wordsearch.score || 0}`;
        }

        renderGrid();
        updateProgress();
      }

      // Setup event listeners untuk pilihan game
      gameMenu.querySelectorAll(".game-card").forEach(card => {
        card.addEventListener("click", () => {
          const game = card.getAttribute("data-game");
          switch(game){
            case "puzzle": loadPuzzleGame(); break;
            case "quiz": loadQuizGame(); break;
            case "riddle": loadRiddleGame(); break;
            case "memory": loadMemoryGame(); break;
            case "wordsearch": loadWordSearchGame(); break;
          }
        });
        card.addEventListener("keydown", e => {
          if(e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            e.target.click();
          }
        });
      });

      showGameMenu();
    })();
  </script>

  <style>
    .visually-hidden { 
      position: absolute !important; width: 1px; height: 1px; 
      margin: -1px; padding: 0; overflow: hidden; clip: rect(0 0 0 0); 
      border: 0;
    }
  </style>
</body>
</html>
